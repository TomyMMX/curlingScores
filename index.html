--- 
  title: Live scores
  layout: default 
  navbar: true 
  weight: 40 
---
<h2>Live scores</h2>
<div id="generated"></div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">          
          <h4 class="modal-title">Code to include</h4>
        </div>
        <div class="modal-body"> 
          <pre class="prettyprint" id="javaPrint">
&lt;div id="liveScore">&lt;/div>
&lt;script type="text/javascript">
var gameCode = '[gameCode]';
$.ajax({
  headers : {'Accept':'application/json', 
             'Content-Type':'application/json'},
  url : 'https://api.github.com/gists/6330648',
  type : 'GET',
  success : function(response, textStatus, jqXhr) {
    var tableOut= response.files["rawTable"].content;
    var gamedata = {};
    try{
      gamedata = 
        jQuery.parseJSON(response.files[gameCode].content);
    }catch(err){
      alert("Game "+gameCode+" does not exist!");
      return;
    }      
    /*replace placeholders with data*/            
    if(gamedata["liveComments"].length<3){
        tableOut=tableOut.replace("[lcClass]", "hidden");       
    }
    var reg = new RegExp('\\[([^\\[]*)\\]', 'g');   
    var result;
    while((result = reg.exec(tableOut)) !== null) {
      tableOut=
        tableOut.replace("["+result[1]+"]", gamedata[result[1]]);
    }
    //add this game to output      
    $('#liveScore').html(tableOut);
  },
  error : function(jqXHR, textStatus, errorThrown) {},
  complete : function() {}
});
&lt;/script></pre>          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

<script src="http://code.jquery.com/jquery.min.js"></script>
<script src="{{%site.baseurl%}}/assets/js/liveScores.js" type="text/javascript"></script>
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>

